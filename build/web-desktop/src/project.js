window.__require=function t(e,o,i){function r(n,l){if(!o[n]){if(!e[n]){var c=n.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!l&&u)return u(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+n+"'")}}var a=o[n]={exports:{}};e[n][0].call(a.exports,function(t){return r(e[n][1][t]||t)},a,a.exports,t,e,o,i)}return o[n].exports}for(var s="function"==typeof __require&&__require,n=0;n<i.length;n++)r(i[n]);return r}({Cell:[function(t,e,o){"use strict";cc._RF.push(e,"2a5b4Go+W1GaId2+mLwCpDI","Cell"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Const"),r=cc._decorator,s=r.ccclass,n=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp=null,e.isAlive=!1,e.willAlive=!1,e}return __extends(e,t),e.prototype.setAlive=function(t){this.isAlive=t,this.node.opacity=t?255:0},e.prototype.setPos=function(t,e){this.pos={x:t,y:e}},e.prototype.randomAlive=function(){this.setAlive(Math.random()>.5)},e.prototype.start=function(){var t=this,e=i.default.BASE_SIZE/i.default.WORLD_SIZE;this.node.scale=e,this.node.x=this.pos.x*this.node.width*e,this.node.y=this.pos.y*this.node.width*e,this.setAlive(!1),this.node.on(cc.Node.EventType.TOUCH_END,function(e){t.onClick()})},e.prototype.updateWillAlive=function(t){var e=this.getLifesAround(t);e==i.default.H_N?(this.willAlive=!0,this.sp.node.color=i.default.H_COLOR):e==i.default.S_N?(this.willAlive=this.isAlive,this.sp.node.color=i.default.S_COLOR):(this.willAlive=!1,this.sp.node.color=i.default.D_COLOR)},e.prototype.applyAlive=function(){this.setAlive(this.willAlive)},e.prototype.updateState=function(t){var e=this.getLifesAround(t);e==i.default.H_N?this.sp.node.color=i.default.H_COLOR:e==i.default.S_N?this.sp.node.color=i.default.S_COLOR:this.sp.node.color=i.default.D_COLOR},e.prototype.reset=function(){this.setAlive(!1),this.sp.node.color=cc.Color.WHITE},e.prototype.onClick=function(){this.setAlive(!this.isAlive)},e.prototype.getLifesAround=function(t){for(var e=0,o=this.pos.x-1;o<=this.pos.x+1;o++)for(var r=this.pos.y-1;r<=this.pos.y+1;r++)o>=0&&o<i.default.WORLD_SIZE&&r>=0&&r<i.default.WORLD_SIZE&&(o==this.pos.x&&r==this.pos.y||t[r][o].isAlive&&e++);return e},e.prototype.getLifesAroundWithWorker=function(t,e){},__decorate([n(cc.Sprite)],e.prototype,"sp",void 0),e=__decorate([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Const":"Const"}],Const:[function(t,e,o){"use strict";cc._RF.push(e,"c5014+l9lNNpZCsNDdYaLJm","Const"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={BASE_SIZE:100,WORLD_SIZE:100,H_N:3,S_N:2,H_COLOR:cc.color().fromHEX("#0eb83a"),S_COLOR:cc.color().fromHEX("#d9b611"),D_COLOR:cc.color().fromHEX("#ff3300")},cc._RF.pop()},{}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"00b16Y9f2VHjqdUqB+7I1em","Main"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./cell"),r=t("./Const"),s=t("./Worker"),n=cc._decorator,l=n.ccclass,c=n.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.world=null,e.cell=null,e.items=new Array,e.running=!1,e.paused=!1,e}return __extends(e,t),e.prototype.start=function(){s.default.onmessage=this.onWorkerMessage;for(var t=0;t<r.default.WORLD_SIZE;t++)for(var e=0;e<r.default.WORLD_SIZE;e++){var o=cc.instantiate(this.cell).getComponent(i.default);o.setPos(e,t),this.world.addChild(o.node),this.items[t]||(this.items[t]=[]),this.items[t].push(o)}this.initWorkerItems()},e.prototype.doStart=function(){this.running||this.schedule(this.tick,.1)},e.prototype.doReset=function(){this.unschedule(this.tick);for(var t=0;t<r.default.WORLD_SIZE;t++)for(var e=0;e<r.default.WORLD_SIZE;e++){this.items[t][e].reset()}this.running=!1},e.prototype.doPause=function(){this.paused=!this.paused},e.prototype.doRandom=function(){for(var t=0;t<r.default.WORLD_SIZE;t++)for(var e=0;e<r.default.WORLD_SIZE;e++){var o=this.items[t][e];o.reset(),o.randomAlive()}},e.prototype.nextTick=function(){this.tick(null,!0)},e.prototype.tick=function(t,e){if(!this.paused||e){for(var o=0;o<r.default.WORLD_SIZE;o++)for(var i=0;i<r.default.WORLD_SIZE;i++){this.items[o][i].updateWillAlive(this.items)}for(o=0;o<r.default.WORLD_SIZE;o++)for(i=0;i<r.default.WORLD_SIZE;i++){this.items[o][i].applyAlive()}for(o=0;o<r.default.WORLD_SIZE;o++)for(i=0;i<r.default.WORLD_SIZE;i++){this.items[o][i].updateState(this.items)}}},e.prototype.tickWithWorker=function(t,e){},e.prototype.initWorkerItems=function(){s.default.postMessage({event:"initItems",const:r.default})},e.prototype.onWorkerMessage=function(t){console.log(t)},__decorate([c(cc.Node)],e.prototype,"world",void 0),__decorate([c(cc.Prefab)],e.prototype,"cell",void 0),e=__decorate([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Const":"Const","./Worker":"Worker","./cell":"Cell"}],Worker:[function(t,e,o){"use strict";cc._RF.push(e,"58130PUetxC5IUXyczqDAVr","Worker"),Object.defineProperty(o,"__esModule",{value:!0});var i=new Blob([function(){new Array,self.onmessage=function(t){console.log(t.data),"initItems"==t.data.event&&console.log("init items ")}}.toString()+";workerThread();"],{type:"text/javascript"}),r=new Worker(window.URL.createObjectURL(i));o.default=r,cc._RF.pop()},{}]},{},["Cell","Const","Main","Worker"]);